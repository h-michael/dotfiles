modmap:
  - name: CapsLock to Ctrl_L
    remap:
      CapsLock: Ctrl_L
  - name: Alt_L to Super_L
    remap:
      Alt_L: Super_L
  - name: Super_L to Alt_L
    remap:
      Super_L: Alt_L

keymap:
  - name: Esc
    remap:
      C-leftbrace: Esc
  - name: terminals
    # Terminal applications where we want to show ESC reminder
    # FIXME: Hyprland bug?
    # only:
    #   - /^Alacritty$/
    #   - /^kitty$/
    #   - /^gnome-terminal/
    #   - /^konsole$/
    #   - /^xterm$/
    #   - /^rxvt/
    #   - /^terminator$/
    #   - /^tilix$/
    #   - /^wezterm$/
    #   - /^foot$/
    #   - /^st$/
    #   - /^ghostty$/
    remap:
      Esc:
        launch:
          - /bin/bash
          - -c
          - |
            if command -v hyprctl >/dev/null 2>&1; then
              hyprctl notify -1 3000 "rgb(ff6b6b)" "Ergonomic Reminder: For your health, use <C-[> instead of <ESC>!"
            elif command -v notify-send >/dev/null 2>&1; then
              notify-send "Ergonomic Reminder" \
                "For your health, use <C-[> instead of <ESC>!" \
                -t 3000
            elif command -v dunstify >/dev/null 2>&1; then
              dunstify "Ergonomic Reminder" \
                "For your health, use <C-[> instead of <ESC>!" \
                -t 3000
            fi
