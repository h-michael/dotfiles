[[plugins]]
repo = 'rust-lang/rust.vim'
on_ft = ['rust']
hook_source = '''
  let g:rustfmt_autosave = 0
  let g:rust_fold = 1
'''

[[plugins]]
repo = 'rhysd/rust-doc.vim'

[[plugins]]
repo = 'machakann/vim-vimhelplint'
on_ft = 'help'
[plugins.ftplugin]
help = '''
  nnoremap <silent><buffer> ,r  :<C-u>VimhelpLint!<CR>
'''

[[plugins]]
repo = 'fatih/vim-go'
on_ft = ['go']
hook_add = '''
  let g:go_def_mode = 'gopls'
  let g:go_def_mapping_enabled = 1
  let g:go_gocode_propose_builtins = 1
  let g:go_list_type = "quickfix"
  let g:go_fmt_command = "goimports"
  let g:go_highlight_types = 1
  let g:go_highlight_functions = 1
  let g:go_highlight_function_calls = 1
  let g:go_highlight_operators = 1
  let g:go_highlight_extra_types = 1

  autocmd FileType go nmap <leader>r <Plug>(go-run)
  autocmd FileType go nmap <leader>t <Plug>(go-test)
  autocmd FileType go nmap <leader>b :<C-u>call <SID>build_go_files()<CR>
  " autocmd FileType go nmap <Leader>c <Plug>(go-coverage-toggle)
  autocmd BufNewFile,BufRead *.go setlocal noexpandtab tabstop=4 shiftwidth=4
'''

[[plugin]]
repo = 'AndrewRadev/splitjoin.vim'
on_ft = ['go']

# [[plugins]]
# repo = 'zchee/deoplete-docker'
